# Ensure CMake supports FetchContent
cmake_minimum_required(VERSION 3.16)
idf_component_register(
    SRCS 
      "ArduinoUtils/ArduinoGPIO.cpp"
      "ArduinoUtils/ArduinoTime.cpp"
      "ArduinoUtils/ArduinoWString.cpp"
      "ArduinoUtils/ArduinoStdlibNonISO.c"
      "Config/ConfigBase.cpp"
      "Config/ConfigMulti.cpp"
      "Config/RdJsmn.cpp"
      "Config/RdJson.cpp"
      "ConfigPinMap/ConfigPinMap.cpp"
      "DebounceButton/DebounceButton.cpp"
      "ExpressionEval/ExpressionEval.cpp"
      "ExpressionEval/ExpressionContext.cpp"
      "ExpressionEval/tinyexpr.c"
      "libb64/cencode.cpp"
      "Logger/LoggerCore.cpp"
      "MiniHDLC/MiniHDLC.cpp"
      "NetworkSystem/NetworkSystem.cpp"
      "NetworkSystem/WiFiScanner.cpp"
      "SupervisorStats/SupervisorStats.cpp"
      "Utils/RaftUtils.cpp"
      "Utils/ESPUtils.cpp"
    INCLUDE_DIRS
      "APICommon"
      "ArduinoUtils"
      "Config"
      "ConfigPinMap"
      "DebounceButton"
      "ExpressionEval"
      "libb64"
      "Logger"
      "MiniHDLC"
      "NetworkSystem"
      "NumericalFilters"
      "RingBuffer"
      "SupervisorStats"
      "ThreadSafeQueue"
      "Utils"
    REQUIRES
      nvs_flash
      mdns
    )
